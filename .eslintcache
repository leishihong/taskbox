[{"/Users/leishihong/Desktop/Advance/genie-fe/taskbox/src/index.js":"1","/Users/leishihong/Desktop/Advance/genie-fe/taskbox/src/App.js":"2","/Users/leishihong/Desktop/Advance/genie-fe/taskbox/src/reportWebVitals.js":"3","/Users/leishihong/Desktop/Advance/genie-fe/taskbox/src/ds.js":"4","/Users/leishihong/Desktop/Advance/genie-fe/taskbox/src/Buider.js":"5","/Users/leishihong/Desktop/Advance/genie-fe/taskbox/src/FinalForm.js":"6","/Users/leishihong/Desktop/Advance/genie-fe/taskbox/src/Formily.js":"7","/Users/leishihong/Desktop/Advance/genie-fe/taskbox/src/RcForm.js":"8","/Users/leishihong/Desktop/Advance/genie-fe/taskbox/src/AlifdForm.js":"9","/Users/leishihong/Desktop/Advance/genie-fe/taskbox/src/NewApp.js":"10"},{"size":508,"mtime":1607339212401,"results":"11","hashOfConfig":"12"},{"size":5081,"mtime":1607338081219,"results":"13","hashOfConfig":"12"},{"size":362,"mtime":1606889299071,"results":"14","hashOfConfig":"12"},{"size":121458,"mtime":1606890692299,"results":"15","hashOfConfig":"12"},{"size":7341,"mtime":1607064970974,"results":"16","hashOfConfig":"12"},{"size":1537,"mtime":1607328836123,"results":"17","hashOfConfig":"12"},{"size":5639,"mtime":1607336599898,"results":"18","hashOfConfig":"12"},{"size":903,"mtime":1607337345321,"results":"19","hashOfConfig":"12"},{"size":4015,"mtime":1607339731710,"results":"20","hashOfConfig":"12"},{"size":146,"mtime":1607339192678,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"15hcw6x",{"filePath":"25","messages":"26","errorCount":0,"warningCount":22,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":1,"source":"33","usedDeprecatedRules":"34"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"41","messages":"42","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"24"},"/Users/leishihong/Desktop/Advance/genie-fe/taskbox/src/index.js",[],["46","47"],"/Users/leishihong/Desktop/Advance/genie-fe/taskbox/src/App.js",["48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69"],"/Users/leishihong/Desktop/Advance/genie-fe/taskbox/src/reportWebVitals.js",[],"/Users/leishihong/Desktop/Advance/genie-fe/taskbox/src/ds.js",[],"/Users/leishihong/Desktop/Advance/genie-fe/taskbox/src/Buider.js",["70","71","72","73","74","75","76","77","78","79","80","81","82"],"import React, { useState } from 'react'\nimport { useForm, Controller } from 'react-hook-form'\n\nimport { Form } from 'antd-form-component'\nimport { Button, Table, Input as AntdInput } from 'antd'\nimport './rsuite.less'\nimport { TableList } from './ds'\nimport { yupResolver } from '@hookform/resolvers/yup'\nimport * as yup from 'yup'\nimport { ErrorMessage } from '@hookform/error-message'\n\nconst { Column } = Table\nlet obg = {}\nTableList.map(item => {\n  item.promotionVariations.map((child, ind) => {\n    obg[`pre[${item.productId}].discount.${ind}`] = yup.string().required()\n  })\n})\nconst schema = yup.object().shape(obg)\nconst Demo = ({ obg }) => {\n  // const {\n  //   form: { getFieldDecorator, validateFields, customComponent }\n  // } = props\n  const {\n    control,\n    register,\n    handleSubmit,\n    errors,\n    formState,\n    watch,\n    trigger,\n    clearErrors,\n    setValue,\n    getValues,\n    reset\n  } = useForm({\n    mode: 'onChange',\n    reValidateMode: 'onChange',\n    shouldFocusError: true,\n    shouldUnregister: true,\n    defaultValues: {},\n    criteriaMode: 'firstError',\n    // resolver: yupResolver(schema),\n    fieldArrayValuesRef: Object.keys(obg)\n  })\n  const [_, fUpdate] = useState([])\n  const onSubmit = async data => {\n    const res = await trigger(Object.keys(obg))\n    console.log(res, 'res')\n    // console.log(getValues())\n    console.log(data, errors, 'ceshi')\n  }\n  // const { dirtyFields } = formState\n\n  // check your dev console, it's a Set\n  // console.log(formState, 'dirtyFields')\n\n  // const handleOnsubmit = e => {\n  //   e.preventDefault()\n  //   validateFields((err, values) => {\n  //     console.log('values: ', values)\n  //     if (err) {\n  //       console.log('表单错误', err)\n  //       return\n  //     } else {\n  //       console.log('表单值: ', values)\n  //     }\n  //   })\n  // }\n  return (\n    <form>\n      <input type=\"submit\" />\n      <Button onClick={onSubmit}>Submit</Button>\n      <Button\n        onClick={() => {\n          // setValue('pre.PR5F2D2C194CEDFD0001084E5A.discount.0', '123', {\n          //   shouldValidate: true,\n          //   shouldDirty: true\n          // })\n          reset(\n            {\n              ['pre.PR5F2D2C194CEDFD0001084E5A.discount.0']: 111\n            },\n            {\n              errors: true, // errors will not be reset\n              dirtyFields: true, // dirtyFields will not be reset\n              isDirty: true, // dirty will not be reset\n              isSubmitted: false,\n              touched: false,\n              isValid: false,\n              submitCount: false\n            }\n          )\n        }}>\n        setValue\n      </Button>\n      {/* <Controller\n        as={AntdInput}\n        name=\"pre.PR5F2D2C194CEDFD0001084E5A.shop.1\"\n        control={control}\n        // rules={{ required: true }}\n        // defaultValue=\"cd\"\n        required\n        // render={() => <AntdInput allowClear required style={{ width: 200 }} />}\n      /> */}\n      <Table dataSource={TableList} rowKey={row => row.productId}>\n        <Column\n          title=\"shop\"\n          render={(text, record, index) => {\n            return record.promotionVariations.map((item, ind) => {\n              return (\n                <div style={{ marginBottom: 10 }} key={`pre.${record.productId}.discount.${ind}`}>\n                  <Controller\n                    // as={<AntdInput style={{ width: 200 }} />}\n                    name={`pre.${record.productId}.discount.${ind}`}\n                    control={control}\n                    // rules={{ required: true }}\n                    ref={register(`pre.${record.productId}.discount.${ind}`, {\n                      required: 'This is required.',\n                      validate: {\n                        message: value => {\n                          console.log(value, '测试数据')\n                          return 11 <= value\n                            ? clearErrors(`pre.${record.productId}.discount.${ind}`)\n                            : '数据校验是失败重新填写'\n                        }\n                      }\n                      // message: 'This is required.'\n                    })}\n                    // defaultValue=\"\"\n                    // required\n                    render={({ onChange, onBlur, value, ref }) => (\n                      <AntdInput\n                        onChange={e => onChange(e)}\n                        allowClear\n                        name={`pre.${record.productId}.discount.${ind}`}\n                        onBlur={onBlur}\n                        required\n                        defaultValue={12}\n                        // ref={register(`pre.${record.productId}.discount.${ind}`, {\n                        //   required: true\n                        // })}\n                        // inputRef={ref}\n                        style={{ width: 200 }}\n                        value={value}\n                      />\n                    )}\n                  />\n                  <div style={{ color: 'red' }}>\n                    <ErrorMessage\n                      errors={errors}\n                      name={`pre[${record.productId}].discount[${ind}]`}\n                      message=\"message\"\n                    />\n                  </div>\n\n                  {/* <input\n                    className=\"form-control\"\n                    type=\"text\"\n                    placeholder=\"Username\"\n                    name={`pre.${record.productId}.discount.${ind}`}\n                    ref={register({\n                      required: true,\n                      maxLength: 20\n                    })}\n                  /> */}\n                  {errors[`pre[${record.productId}].discount[${ind}]`]}\n                  {errors[`pre.${record.productId}.discount.${ind}`] &&\n                    errors[`pre.${record.productId}.discount.${ind}`]?.message}\n                  {/* <div>This field is required</div> */}\n                  {/* <input\n                    placeholder={`Username-${ind}`}\n                    required\n                    // aria-describedby=\"helpId\"\n                    // aria-errormessage=\"This field is required\"\n                    // errorClass={errors[`pre.${record.productId}.shop.${ind}`] ? 'true' : 'false'}\n                    name={`pre.${record.productId}.discount.${ind}`}\n                    ref={register({\n                      required: true\n                      // maxLength: 6,\n                      // minLength: 2\n                      // validate: {\n                      //   message: value =>\n                      //     value === watch('password') ? clearError() : 'confirm password fail'\n                      // }\n                    })}\n                  />\n                  {errors[`pre.${record.productId}.discount.${ind}`]} */}\n                  {/* {errors[`pre.${record.productId}.discount.${ind}`] && (\n                    <div role=\"alert\">This field is required</div>\n                  )} */}\n                </div>\n              )\n            })\n          }}></Column>\n      </Table>\n    </form>\n    // <Form onSubmit={handleOnsubmit} size=\"default\" hasFeedback horizontal>\n\n    //   {/* <Input name=\"text1\" required value=\"\" label=\"随意\" placeholder=\"请输入！\" /> */}\n    //   <Form.Item>\n    //     <Button htmlType=\"submit\">提交</Button>\n    //   </Form.Item>\n    // </Form>\n  )\n}\n\nexport default Demo\n",["83","84"],"/Users/leishihong/Desktop/Advance/genie-fe/taskbox/src/FinalForm.js",[],"/Users/leishihong/Desktop/Advance/genie-fe/taskbox/src/Formily.js",["85","86","87","88","89"],"/Users/leishihong/Desktop/Advance/genie-fe/taskbox/src/RcForm.js",["90"],"/Users/leishihong/Desktop/Advance/genie-fe/taskbox/src/AlifdForm.js",["91","92","93","94","95"],"/Users/leishihong/Desktop/Advance/genie-fe/taskbox/src/NewApp.js",["96"],"import React, { useRef } from 'react'\nimport AlifdForm from './AlifdForm'\n\nconst NewApp = () => {\n  return <AlifdForm />\n}\n\nexport default NewApp\n",{"ruleId":"97","replacedBy":"98"},{"ruleId":"99","replacedBy":"100"},{"ruleId":"101","severity":1,"message":"102","line":4,"column":3,"nodeType":"103","messageId":"104","endLine":4,"endColumn":9},{"ruleId":"101","severity":1,"message":"105","line":5,"column":3,"nodeType":"103","messageId":"104","endLine":5,"endColumn":7},{"ruleId":"101","severity":1,"message":"106","line":6,"column":3,"nodeType":"103","messageId":"104","endLine":6,"endColumn":8},{"ruleId":"101","severity":1,"message":"107","line":11,"column":3,"nodeType":"103","messageId":"104","endLine":11,"endColumn":9},{"ruleId":"101","severity":1,"message":"108","line":13,"column":3,"nodeType":"103","messageId":"104","endLine":13,"endColumn":14},{"ruleId":"101","severity":1,"message":"109","line":14,"column":3,"nodeType":"103","messageId":"104","endLine":14,"endColumn":11},{"ruleId":"101","severity":1,"message":"110","line":17,"column":8,"nodeType":"103","messageId":"104","endLine":17,"endColumn":17},{"ruleId":"101","severity":1,"message":"111","line":20,"column":8,"nodeType":"103","messageId":"104","endLine":20,"endColumn":14},{"ruleId":"101","severity":1,"message":"112","line":21,"column":8,"nodeType":"103","messageId":"104","endLine":21,"endColumn":17},{"ruleId":"101","severity":1,"message":"113","line":22,"column":8,"nodeType":"103","messageId":"104","endLine":22,"endColumn":15},{"ruleId":"101","severity":1,"message":"114","line":24,"column":21,"nodeType":"103","messageId":"104","endLine":24,"endColumn":31},{"ruleId":"101","severity":1,"message":"115","line":26,"column":9,"nodeType":"103","messageId":"104","endLine":26,"endColumn":15},{"ruleId":"101","severity":1,"message":"116","line":26,"column":17,"nodeType":"103","messageId":"104","endLine":26,"endColumn":27},{"ruleId":"101","severity":1,"message":"117","line":26,"column":29,"nodeType":"103","messageId":"104","endLine":26,"endColumn":33},{"ruleId":"101","severity":1,"message":"118","line":27,"column":7,"nodeType":"103","messageId":"104","endLine":27,"endColumn":15},{"ruleId":"101","severity":1,"message":"119","line":29,"column":7,"nodeType":"103","messageId":"104","endLine":29,"endColumn":18},{"ruleId":"120","severity":1,"message":"121","line":37,"column":20,"nodeType":"122","messageId":"123","endLine":37,"endColumn":22},{"ruleId":"120","severity":1,"message":"121","line":38,"column":45,"nodeType":"122","messageId":"123","endLine":38,"endColumn":47},{"ruleId":"124","severity":1,"message":"125","line":45,"column":9,"nodeType":"126","messageId":"127","endLine":47,"endColumn":4},{"ruleId":"101","severity":1,"message":"128","line":50,"column":12,"nodeType":"103","messageId":"104","endLine":50,"endColumn":21},{"ruleId":"101","severity":1,"message":"129","line":59,"column":9,"nodeType":"103","messageId":"104","endLine":59,"endColumn":14},{"ruleId":"101","severity":1,"message":"130","line":63,"column":9,"nodeType":"103","messageId":"104","endLine":63,"endColumn":21},{"ruleId":"101","severity":1,"message":"105","line":4,"column":10,"nodeType":"103","messageId":"104","endLine":4,"endColumn":14},{"ruleId":"101","severity":1,"message":"131","line":8,"column":10,"nodeType":"103","messageId":"104","endLine":8,"endColumn":21},{"ruleId":"120","severity":1,"message":"121","line":14,"column":20,"nodeType":"122","messageId":"123","endLine":14,"endColumn":22},{"ruleId":"120","severity":1,"message":"121","line":15,"column":45,"nodeType":"122","messageId":"123","endLine":15,"endColumn":47},{"ruleId":"101","severity":1,"message":"132","line":19,"column":7,"nodeType":"103","messageId":"104","endLine":19,"endColumn":13},{"ruleId":"101","severity":1,"message":"133","line":27,"column":5,"nodeType":"103","messageId":"104","endLine":27,"endColumn":17},{"ruleId":"101","severity":1,"message":"134","line":29,"column":5,"nodeType":"103","messageId":"104","endLine":29,"endColumn":14},{"ruleId":"101","severity":1,"message":"135","line":30,"column":5,"nodeType":"103","messageId":"104","endLine":30,"endColumn":10},{"ruleId":"101","severity":1,"message":"136","line":33,"column":5,"nodeType":"103","messageId":"104","endLine":33,"endColumn":13},{"ruleId":"101","severity":1,"message":"137","line":34,"column":5,"nodeType":"103","messageId":"104","endLine":34,"endColumn":14},{"ruleId":"101","severity":1,"message":"138","line":46,"column":10,"nodeType":"103","messageId":"104","endLine":46,"endColumn":11},{"ruleId":"101","severity":1,"message":"139","line":46,"column":13,"nodeType":"103","messageId":"104","endLine":46,"endColumn":20},{"ruleId":"140","severity":1,"message":"141","line":82,"column":15,"nodeType":"142","messageId":"143","endLine":82,"endColumn":65,"fix":"144"},{"ruleId":"97","replacedBy":"145"},{"ruleId":"99","replacedBy":"146"},{"ruleId":"120","severity":1,"message":"121","line":36,"column":20,"nodeType":"122","messageId":"123","endLine":36,"endColumn":22},{"ruleId":"120","severity":1,"message":"121","line":37,"column":45,"nodeType":"122","messageId":"123","endLine":37,"endColumn":47},{"ruleId":"147","severity":1,"message":"148","line":42,"column":1,"nodeType":"149","endLine":167,"endColumn":2},{"ruleId":"101","severity":1,"message":"138","line":44,"column":10,"nodeType":"103","messageId":"104","endLine":44,"endColumn":11},{"ruleId":"101","severity":1,"message":"150","line":57,"column":9,"nodeType":"103","messageId":"104","endLine":57,"endColumn":14},{"ruleId":"147","severity":1,"message":"151","line":4,"column":1,"nodeType":"149","endLine":30,"endColumn":2},{"ruleId":"101","severity":1,"message":"152","line":1,"column":35,"nodeType":"103","messageId":"104","endLine":1,"endColumn":43},{"ruleId":"101","severity":1,"message":"115","line":6,"column":9,"nodeType":"103","messageId":"104","endLine":6,"endColumn":15},{"ruleId":"101","severity":1,"message":"153","line":7,"column":9,"nodeType":"103","messageId":"104","endLine":7,"endColumn":15},{"ruleId":"101","severity":1,"message":"154","line":12,"column":9,"nodeType":"103","messageId":"104","endLine":12,"endColumn":17},{"ruleId":"101","severity":1,"message":"138","line":13,"column":10,"nodeType":"103","messageId":"104","endLine":13,"endColumn":11},{"ruleId":"101","severity":1,"message":"155","line":1,"column":17,"nodeType":"103","messageId":"104","endLine":1,"endColumn":23},"no-native-reassign",["156"],"no-negated-in-lhs",["157"],"no-unused-vars","'Button' is defined but never used.","Identifier","unusedVar","'Form' is defined but never used.","'Input' is defined but never used.","'Avatar' is defined but never used.","'FlexboxGrid' is defined but never used.","'Checkbox' is defined but never used.","'BuiderHoc' is defined but never used.","'RcForm' is defined but never used.","'FinalForm' is defined but never used.","'Formily' is defined but never used.","'NumberType' is assigned a value but never used.","'Column' is assigned a value but never used.","'HeaderCell' is assigned a value but never used.","'Cell' is assigned a value but never used.","'ListItem' is assigned a value but never used.","'styleCenter' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","'TextField' is defined but never used.","'model' is assigned a value but never used.","'handelSubmit' is assigned a value but never used.","'yupResolver' is defined but never used.","'schema' is assigned a value but never used.","'handleSubmit' is assigned a value but never used.","'formState' is assigned a value but never used.","'watch' is assigned a value but never used.","'setValue' is assigned a value but never used.","'getValues' is assigned a value but never used.","'_' is assigned a value but never used.","'fUpdate' is assigned a value but never used.","no-useless-computed-key","Unnecessarily computed property ['pre.PR5F2D2C194CEDFD0001084E5A.discount.0'] found.","Property","unnecessarilyComputedProperty",{"range":"158","text":"159"},["156"],["157"],"import/no-anonymous-default-export","Unexpected default export of anonymous function","ExportDefaultDeclaration","'error' is assigned a value but never used.","Assign arrow function to a variable before exporting as module default","'Fragment' is defined but never used.","'Option' is assigned a value but never used.","'IFormRef' is assigned a value but never used.","'useRef' is defined but never used.","no-global-assign","no-unsafe-negation",[2170,2215],"'pre.PR5F2D2C194CEDFD0001084E5A.discount.0'"]